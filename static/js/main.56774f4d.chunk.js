(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),i=(a(61),a(4)),s=a(5),c=a(7),u=a(6),m=a(8),p=(a(62),a(18)),d=a(17),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleStartStop=function(){a.setState({count:!1})},a.state={count:!0},setTimeout(a.handleStartStop,2e3),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.count?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",{id:"timer-label"},"FOODMAP"),r.a.createElement("p",{id:"time-left"},r.a.createElement("img",{src:"/GDL-open-house/loading.gif"})))):r.a.createElement(d.a,{to:"/location"})}}]),t}(r.a.Component),f=a(53),v=a(20),g=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onMarkerClick=function(t,a,n){e.setState({selectedPlace:t.place,activeMarker:a,showInfoWindow:!0})},e.getMarkers=function(){return e.props.filteredPlaces.map(function(t){return r.a.createElement(v.Marker,{key:t.id,onClick:e.onMarkerClick,position:t.geometry.location,title:t.name,place:t})})},e.fetchPlaces=function(t,a){var n=t.google,r=new n.maps.places.PlacesService(a),o={location:e.props.mainLocation,radius:1e3,type:["restaurant"]};r.nearbySearch(o,function(t,a,r){a===n.maps.places.PlacesServiceStatus.OK&&(e.props.setLoadedPlaces(t),e.props.setFilteredPlaces())})},e.state={selectedPlace:{},activeMarker:null,showInfoWindow:!0},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%",height:"50vh"}},r.a.createElement(v.Map,{style:{width:"100%",height:"50vh"},google:this.props.google,zoom:16,onReady:this.fetchPlaces,initialCenter:this.props.mainLocation},this.getMarkers(),r.a.createElement(v.InfoWindow,{visible:this.state.showInfoWindow,marker:this.state.activeMarker},r.a.createElement("div",null,r.a.createElement("h6",null,this.state.selectedPlace?this.state.selectedPlace.name:""),this.state.selectedPlace&&this.state.selectedPlace.photos&&this.state.selectedPlace.photos.length>0?r.a.createElement("img",{src:this.state.selectedPlace.photos[0].getUrl(),style:{height:"100px"}}):"")))))}}]),t}(r.a.Component),E=Object(v.GoogleApiWrapper)({apiKey:"AIzaSyC0VLXysIX4t0QzQlWFO0VIUyFfRZLV8nA"})(g),b=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{marginTop:"10px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{htmlFor:"priceFilter"},"Precio:")," ",r.a.createElement("select",{className:"custom-select",name:"priceFilter",value:this.props.filters.priceFilter,onChange:this.props.setFilter},r.a.createElement("option",{value:-1},"Mostrar todo"),r.a.createElement("option",{value:0},"Gratis"),r.a.createElement("option",{value:1},"Barato"),r.a.createElement("option",{value:2},"Moderado"),r.a.createElement("option",{value:3},"Costoso"),r.a.createElement("option",{value:4},"Muy Costoso"))),r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{htmlFor:"ratingFilter"},"Calificacion:")," ",r.a.createElement("select",{className:"custom-select",name:"ratingFilter",value:this.props.filters.ratingFilter,onChange:this.props.setFilter},r.a.createElement("option",{value:-1},"Mostrar todo"),r.a.createElement("option",{value:1},"1 o m\xe1s"),r.a.createElement("option",{value:2},"2 o m\xe1s"),r.a.createElement("option",{value:3},"3 o m\xe1s"),r.a.createElement("option",{value:4},"4 o m\xe1s"),r.a.createElement("option",{value:5},"5")))))}}]),t}(r.a.Component),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).setLoadedPlaces=function(t){e.setState({loadedPlaces:t})},e.setFilter=function(t){var a=t.target,n=a.value,r=a.name,o=Object(f.a)({},r,Number(n));"priceFilter"===r?o.ratingFilter=e.state.filters.ratingFilter:o.priceFilter=e.state.filters.priceFilter,e.setState({filters:o},e.setFilteredPlaces)},e.setFilteredPlaces=function(){var t=e.state.loadedPlaces.filter(function(t){var a=!(e.state.filters.priceFilter>-1)||t.price_level<=e.state.filters.priceFilter,n=!(e.state.filters.ratingFilter>-1)||t.rating>=e.state.filters.ratingFilter;return a&&n});e.setState({filteredPlaces:t})},e.getGroupedPlaces=function(){var t=[];return e.state.filteredPlaces.forEach(function(e,a){a%3===0?t.push([e]):t[t.length-1].push(e)}),t},e.state={loadedPlaces:[],filteredPlaces:[],filters:{priceFilter:-1,ratingFilter:-1}},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return window.filteredPlaces=this.state.filteredPlaces,r.a.createElement("div",null,r.a.createElement("h2",null,"FOOD FINDER"),r.a.createElement(E,{mainLocation:this.props.mainLocation,filteredPlaces:this.state.filteredPlaces,loadedPlaces:this.state.loadedPlaces,setLoadedPlaces:this.setLoadedPlaces,setFilteredPlaces:this.setFilteredPlaces}),r.a.createElement(b,{filters:this.state.filters,setFilter:this.setFilter}),r.a.createElement("div",{className:"container",style:{marginTop:"20px"}},this.getGroupedPlaces().map(function(e,t){return r.a.createElement("div",{className:"row",key:"places".concat(t)},e.map(function(e,t){return r.a.createElement("div",{className:"col-md card",key:"place".concat(t),style:{margin:"5px",paddingTop:"5px"}},e.photos&&e.photos.length>0?r.a.createElement("img",{className:"card-img-top",src:e.photos[0].getUrl(),alt:e.name}):"",r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},e.name)))}))})))}}]),t}(r.a.Component),P=a(26),O=a.n(P),F=a(21),w=a.n(F),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getGeoLocation=function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,n=e.coords.longitude;a.props.setMainLocation({lat:t,lng:n}),a.props.history.push("/home")},function(){a.props.setStatusMessage("Unable to retrieve your location"),a.props.history.push("/home")})},a.state={modalShow:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this;return window.navigator.geolocation?r.a.createElement(w.a,{show:this.state.show,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,{id:"contained-modal-title-vcenter"},"Ubicaci\xf3n")),r.a.createElement(w.a.Body,null,r.a.createElement("h4",null,"Acceso"),r.a.createElement("p",null,"Para brindarte una mejor experiencia, Food Finder necesita el acceso a tu ubicaci\xf3n. \xbfAutorizas la acci\xf3n?")),r.a.createElement(w.a.Footer,null,r.a.createElement(O.a,{variant:"danger",onClick:this.getGeoLocation},"Aceptar"),r.a.createElement(O.a,{variant:"secondary",onClick:function(){return e.props.history.push("/home")}},"Ignorar"))):(this.props.setStatusMessage("Geolocation is not supported by your browser."),r.a.createElement(d.a,{to:"/home"}))}}]),t}(r.a.Component),M=Object(d.e)(j),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).setMainLocation=function(t){e.setState({mainLocation:t})},e.setStatusMessage=function(t){e.setState({statusMessage:t})},e.state={mainLocation:{lat:20.650483,lng:-103.4054717},statusMessage:null},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},this.state.statusMessage?r.a.createElement("div",{className:"alert alert-warning",role:"alert"},this.state.statusMessage,r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){return e.setStatusMessage(null)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):"",r.a.createElement(p.a,null,r.a.createElement(d.b,{path:"/",component:h,exact:!0}),r.a.createElement(d.b,{path:"/home",component:function(){return r.a.createElement(y,{mainLocation:e.state.mainLocation,setMainLocation:e.setMainLocation})}}),r.a.createElement(d.b,{path:"/location",component:function(){return r.a.createElement(M,{setMainLocation:e.setMainLocation,setStatusMessage:e.setStatusMessage})}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(122);l.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,a){e.exports=a(123)},61:function(e,t,a){},62:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.56774f4d.chunk.js.map