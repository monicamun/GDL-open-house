{"version":3,"sources":["components/SplashPage.js","components/MapComponent.js","components/Filters.js","components/Home.js","components/LocationPermit.js","App.js","serviceWorker.js","index.js"],"names":["SplashPage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleStartStop","setState","count","state","setTimeout","react_default","a","createElement","id","src","process","react_router","to","React","Component","MapComponent","onMarkerClick","marker","e","selectedPlace","place","activeMarker","showInfoWindow","getMarkers","filteredPlaces","map","dist","key","onClick","position","geometry","location","title","name","fetchPlaces","mapProps","google","service","maps","places","PlacesService","request","mainLocation","radius","type","nearbySearch","results","status","pagination","PlacesServiceStatus","OK","setLoadedPlaces","setFilteredPlaces","style","width","height","zoom","onReady","initialCenter","visible","photos","length","getUrl","GoogleApiWrapper","apiKey","Filters","className","marginTop","htmlFor","value","filters","priceFilter","onChange","setFilter","ratingFilter","Home","loadedPlaces","_e$target","target","newFilters","defineProperty","Number","filter","price_level","rating","getGroupedPlaces","placesInGroupsOfTwo","forEach","i","push","window","components_MapComponent","components_Filters","concat","i2","margin","paddingTop","alt","LocationPermit","_getPrototypeOf2","_len","arguments","args","Array","_key","apply","getGeoLocation","navigator","geolocation","getCurrentPosition","lat","coords","latitude","lng","longitude","setMainLocation","history","setStatusMessage","modalShow","show","_this2","Modal_default","size","aria-labelledby","centered","Header","closeButton","Title","Body","Footer","Button_default","variant","withRouter","App","message","statusMessage","role","class","data-dismiss","aria-label","aria-hidden","react_router_dom","path","component","exact","components_Home","components_LocationPermit","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.56774f4d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nclass SplashPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      count: true\r\n    };\r\n    setTimeout(this.handleStartStop, 2000);\r\n  }\r\n\r\n  handleStartStop = () => {\r\n    this.setState({\r\n      count: false\r\n    });\r\n    //esta funcion se cuando pasan 2 seg.\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.count) {\r\n      return (<Redirect to=\"/location\" />);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h1 id=\"timer-label\">FOODMAP</h1>\r\n          <p id=\"time-left\">\r\n            <img src={process.env.PUBLIC_URL + \"/loading.gif\"} />\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SplashPage;\r\n","import React from \"react\";\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from \"google-maps-react\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nclass MapComponent extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      selectedPlace: {},\r\n      activeMarker: null,\r\n      showInfoWindow: true\r\n    };\r\n  }\r\n\r\n  onMarkerClick = (props, marker, e) => {\r\n    this.setState({\r\n      selectedPlace: props.place,\r\n      activeMarker: marker,\r\n      showInfoWindow: true\r\n    });\r\n  };\r\n\r\n  getMarkers = () => {\r\n    const markers = this.props.filteredPlaces.map(place => {\r\n      const markerJSX = (\r\n        <Marker\r\n          key={place.id}\r\n          onClick={this.onMarkerClick}\r\n          position={place.geometry.location}\r\n          title={place.name}\r\n          place={place}\r\n        />\r\n      );\r\n      return markerJSX;\r\n    });\r\n    return markers;\r\n  };\r\n\r\n  fetchPlaces = (mapProps, map) => {\r\n    const { google } = mapProps;\r\n    const service = new google.maps.places.PlacesService(map);\r\n    const request = {\r\n      location: this.props.mainLocation,\r\n      radius: 1000,\r\n      type: [\"restaurant\"]\r\n    };\r\n    service.nearbySearch(request, (results, status, pagination) => {\r\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n        this.props.setLoadedPlaces(results);\r\n        this.props.setFilteredPlaces();\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const mapStyle = {\r\n      width: \"100%\",\r\n      height: \"50vh\",\r\n    };\r\n    const divStyle = {\r\n      width: \"100%\",\r\n      height: \"50vh\",\r\n    };\r\n    return (\r\n      <div>\r\n        <div style={divStyle}>\r\n          <Map\r\n            style={mapStyle}\r\n            google={this.props.google}\r\n            zoom={16}\r\n            onReady={this.fetchPlaces}\r\n            initialCenter={this.props.mainLocation}\r\n          >\r\n            {this.getMarkers()}\r\n            <InfoWindow\r\n              visible={this.state.showInfoWindow}\r\n              marker={this.state.activeMarker}\r\n            >\r\n              <div>\r\n                <h6>\r\n                  {this.state.selectedPlace\r\n                    ? this.state.selectedPlace.name\r\n                    : \"\"}\r\n                </h6>\r\n                {this.state.selectedPlace &&\r\n                this.state.selectedPlace.photos &&\r\n                this.state.selectedPlace.photos.length > 0 ? (\r\n                  <img\r\n                    src={this.state.selectedPlace.photos[0].getUrl()}\r\n                    style={{ height: \"100px\" }}\r\n                  />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </InfoWindow>\r\n          </Map>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: \"AIzaSyC0VLXysIX4t0QzQlWFO0VIUyFfRZLV8nA\"\r\n})(MapComponent);\r\n","import React from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n\r\nclass Filters extends React.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\" style={{ marginTop: \"10px\" }}>\r\n        {/* <input className=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\"></input> */}\r\n        <div className=\"row\">\r\n          <div className=\"col-3\">\r\n            <label htmlFor=\"priceFilter\">Precio:</label>{\" \"}\r\n            <select\r\n              className=\"custom-select\"\r\n              name=\"priceFilter\"\r\n              value={this.props.filters.priceFilter}\r\n              onChange={this.props.setFilter}\r\n            >\r\n              <option value={-1}>Mostrar todo</option>\r\n              <option value={0}>Gratis</option>\r\n              <option value={1}>Barato</option>\r\n              <option value={2}>Moderado</option>\r\n              <option value={3}>Costoso</option>\r\n              <option value={4}>Muy Costoso</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <label htmlFor=\"ratingFilter\">Calificacion:</label>{\" \"}\r\n            <select\r\n              className=\"custom-select\"\r\n              name=\"ratingFilter\"\r\n              value={this.props.filters.ratingFilter}\r\n              onChange={this.props.setFilter}\r\n            >\r\n              <option value={-1}>Mostrar todo</option>\r\n              <option value={1}>1 o más</option>\r\n              <option value={2}>2 o más</option>\r\n              <option value={3}>3 o más</option>\r\n              <option value={4}>4 o más</option>\r\n              <option value={5}>5</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Filters;\r\n","import React from \"react\";\r\nimport MapComponent from \"./MapComponent\";\r\nimport Filters from \"./Filters\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from \"google-maps-react\";\r\n\r\nclass Home extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      loadedPlaces: [],\r\n      filteredPlaces: [],\r\n      filters: {\r\n        // -1 es el estado inicial\r\n        priceFilter: -1,\r\n        ratingFilter: -1\r\n      }\r\n    };\r\n  }\r\n\r\n  setLoadedPlaces = loadedPlaces => {\r\n    this.setState({ loadedPlaces });\r\n  };\r\n\r\n  setFilter = e => {\r\n    const { value, name } = e.target;\r\n\r\n    let newFilters = { [name]: Number(value) };\r\n    if (name === \"priceFilter\") {\r\n      newFilters.ratingFilter = this.state.filters.ratingFilter;\r\n    } else {\r\n      newFilters.priceFilter = this.state.filters.priceFilter;\r\n    }\r\n    this.setState({ filters: newFilters }, this.setFilteredPlaces);\r\n  };\r\n\r\n  setFilteredPlaces = () => {\r\n    // traer solo los que cumplen las condiciones\r\n    const filteredPlaces = this.state.loadedPlaces.filter(e => {\r\n      const priceFilter =\r\n        this.state.filters.priceFilter > -1\r\n          ? e.price_level <= this.state.filters.priceFilter\r\n          : true;\r\n      const ratingFilter =\r\n        this.state.filters.ratingFilter > -1\r\n          ? e.rating >= this.state.filters.ratingFilter\r\n          : true;\r\n      return priceFilter && ratingFilter;\r\n    });\r\n    this.setState({ filteredPlaces });\r\n  };\r\n\r\n  getGroupedPlaces = () => {\r\n    let placesInGroupsOfTwo = [];\r\n\r\n    this.state.filteredPlaces.forEach((place, i) => {\r\n      if (i % 3 === 0) {\r\n        placesInGroupsOfTwo.push([place]);\r\n      } else {\r\n        let lastArray = placesInGroupsOfTwo[placesInGroupsOfTwo.length - 1];\r\n        lastArray.push(place);\r\n      }\r\n    });\r\n    return placesInGroupsOfTwo;\r\n  };\r\n\r\n  render() {\r\n    window.filteredPlaces = this.state.filteredPlaces;\r\n    return (\r\n      <div>\r\n        <h2>FOOD FINDER</h2>\r\n          <MapComponent\r\n            mainLocation={this.props.mainLocation}\r\n            filteredPlaces={this.state.filteredPlaces}\r\n            loadedPlaces={this.state.loadedPlaces}\r\n            setLoadedPlaces={this.setLoadedPlaces}\r\n            setFilteredPlaces={this.setFilteredPlaces}\r\n          />\r\n        <Filters filters={this.state.filters} setFilter={this.setFilter} />\r\n\r\n        <div className=\"container\" style={{ marginTop: \"20px\" }}>\r\n          {this.getGroupedPlaces().map((places, i) => (\r\n            <div className=\"row\" key={`places${i}`}>\r\n              {places.map((place, i2) => (\r\n                <div\r\n                  className=\"col-md card\"\r\n                  key={`place${i2}`}\r\n                  style={{ margin: \"5px\", paddingTop: \"5px\" }}\r\n                >\r\n                  {place.photos && place.photos.length > 0 ? (\r\n                    <img\r\n                      className=\"card-img-top\"\r\n                      src={place.photos[0].getUrl()}\r\n                      alt={place.name}\r\n                    />\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n\r\n                  <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{place.name}</h6>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonToolbar from \"react-bootstrap/ButtonToolbar\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nclass LocationPermit extends React.Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this.state = { modalShow: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ show: true });\r\n  }\r\n\r\n  getGeoLocation = () => {\r\n    const successAction = position => {\r\n      const lat = position.coords.latitude;\r\n      const lng = position.coords.longitude;\r\n      this.props.setMainLocation({ lat, lng });\r\n      this.props.history.push(\"/home\");\r\n    };\r\n\r\n    const errorAction = () => {\r\n      this.props.setStatusMessage(\"Unable to retrieve your location\");\r\n      this.props.history.push(\"/home\");\r\n    };\r\n    navigator.geolocation.getCurrentPosition(successAction, errorAction);\r\n  };\r\n\r\n  render() {\r\n    if (!window.navigator.geolocation) {\r\n      this.props.setStatusMessage(\r\n        \"Geolocation is not supported by your browser.\"\r\n      );\r\n      return <Redirect to=\"/home\" />;\r\n    }\r\n\r\n    return (\r\n      <Modal\r\n        show={this.state.show}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Ubicación\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <h4>Acceso</h4>\r\n          <p>\r\n            Para brindarte una mejor experiencia, Food Finder necesita el acceso\r\n            a tu ubicación. ¿Autorizas la acción?\r\n          </p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={this.getGeoLocation}>\r\n            Aceptar\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.props.history.push(\"/home\")}\r\n          >\r\n            Ignorar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LocationPermit);\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\nimport SplashPage from \"./components/SplashPage\";\r\nimport Home from \"./components/Home\";\r\nimport LocationPermit from \"./components/LocationPermit\";\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      mainLocation: { lat: 20.650483, lng: -103.4054717 },\r\n      statusMessage: null\r\n    };\r\n  }\r\n\r\n  setMainLocation = location => {\r\n    this.setState({ mainLocation: location });\r\n  };\r\n\r\n  setStatusMessage = (message) => {\r\n    this.setState({ statusMessage: message });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        {this.state.statusMessage ? (\r\n          <div className=\"alert alert-warning\" role=\"alert\">\r\n            {this.state.statusMessage}\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"alert\"\r\n              aria-label=\"Close\"\r\n              onClick={() => this.setStatusMessage(null)}\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <Router>\r\n          <Route path=\"/\" component={SplashPage} exact />\r\n          <Route\r\n            path=\"/home\"\r\n            component={() => <Home mainLocation={this.state.mainLocation} setMainLocation={this.setMainLocation} />}\r\n          />\r\n          <Route path=\"/location\" component={() => <LocationPermit  setMainLocation={this.setMainLocation} setStatusMessage={this.setStatusMessage}/>} />\r\n        </Router>\r\n       \r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}